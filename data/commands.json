{
  "why": {
    "handler": "handle_why",
    "category": "core",
    "description": "State NovaOS purpose, philosophy, and identity"
  },
  "boot": {
    "handler": "handle_boot",
    "category": "core",
    "description": "Initialize NovaOS kernel and persona"
  },
  "shutdown": {
    "handler": "handle_shutdown",
    "category": "core",
    "description": "Shutdown NovaOS and return to Persona mode"
  },
  "reset": {
    "handler": "handle_reset",
    "category": "core",
    "description": "Reload system memory and modules"
  },
  "status": {
    "handler": "handle_status",
    "category": "core",
    "description": "Display system state"
  },
  "help": {
    "handler": "handle_help",
    "category": "core",
    "description": "Show command sections and help"
  },
  "dashboard": {
    "handler": "handle_dashboard",
    "category": "core",
    "description": "Display system dashboard. Args: refresh, compact, full"
  },
  "dashboard-view": {
    "handler": "handle_dashboard_view",
    "category": "core",
    "description": "Toggle or set dashboard view mode (compact/full)"
  },

  "core": {
    "handler": "handle_section_core",
    "category": "section",
    "description": "Open the CORE section menu"
  },
  "memory": {
    "handler": "handle_section_memory",
    "category": "section",
    "description": "Open the MEMORY section menu"
  },
  "identity": {
    "handler": "handle_section_identity",
    "category": "section",
    "description": "Open the IDENTITY (Player Profile) section menu"
  },
  "system": {
    "handler": "handle_section_system",
    "category": "section",
    "description": "Open the SYSTEM section menu"
  },
  "workflow": {
    "handler": "handle_section_workflow",
    "category": "section",
    "description": "Open the QUEST ENGINE section menu"
  },
  "timerhythm": {
    "handler": "handle_section_timerhythm",
    "category": "section",
    "description": "Open the TIME RHYTHM section menu (HP, readiness, daily/weekly reviews)"
  },
  "reminders": {
    "handler": "handle_section_reminders",
    "category": "section",
    "description": "Open the REMINDERS section menu"
  },
  "commands": {
    "handler": "handle_section_commands",
    "category": "section",
    "description": "Open the CUSTOM COMMANDS section menu"
  },
  "debug": {
    "handler": "handle_section_debug",
    "category": "section",
    "description": "Open the DEBUG section menu"
  },
  "modules": {
    "handler": "handle_section_modules",
    "category": "section",
    "description": "Open the MODULES section menu"
  },

  "store": {
    "handler": "handle_store",
    "category": "memory",
    "description": "Store a memory item (semantic/procedural/episodic) with tags."
  },
  "recall": {
    "handler": "handle_recall",
    "category": "memory",
    "description": "Recall memory items filtered by type and/or tags."
  },
  "forget": {
    "handler": "handle_forget",
    "category": "memory",
    "description": "Forget memory items by id, tag, or type."
  },
  "trace": {
    "handler": "handle_trace",
    "category": "memory",
    "description": "Show lineage/trace info for a memory item."
  },
  "bind": {
    "handler": "handle_bind",
    "category": "memory",
    "description": "Bind multiple memory items into a cluster."
  },
  "profile": {
    "handler": "handle_profile",
    "category": "memory",
    "description": "View, edit, or delete profile memories (identity & preferences)."
  },
  "memories": {
    "handler": "handle_memories",
    "category": "memory",
    "description": "Full memory management UI - list, view, edit, delete memories."
  },
  "search-mem": {
    "handler": "handle_search_mem",
    "category": "memory",
    "description": "Search memories by keywords."
  },
  "memory-maintain": {
    "handler": "handle_memory_maintain",
    "category": "memory",
    "description": "Run memory decay and archiving maintenance."
  },
  "session-end": {
    "handler": "handle_session_end",
    "category": "memory",
    "description": "End session: snapshot Working Memory to LTM and clear WM."
  },

  "quest": {
    "handler": "handle_quest",
    "category": "workflow",
    "description": "Open quest wizard to choose and start a quest, or use id=<id> for direct start."
  },
  "complete": {
    "handler": "handle_complete",
    "category": "workflow",
    "description": "Finish today's lesson, save progress, and preview tomorrow's lesson."
  },
  "halt": {
    "handler": "handle_halt",
    "category": "workflow",
    "description": "Pause quest mode and return to normal NovaOS."
  },
  "next": {
    "handler": "handle_next",
    "category": "workflow",
    "description": "Legacy alias for #complete. Use #complete instead."
  },
  "pause": {
    "handler": "handle_pause",
    "category": "workflow",
    "description": "Pause the active quest and save your progress."
  },
  "quest-log": {
    "handler": "handle_quest_log",
    "category": "workflow",
    "description": "View your current quest, recent completions, XP, skills, and learning streak."
  },
  "quest-reset": {
    "handler": "handle_quest_reset",
    "category": "workflow",
    "description": "Reset a quest's progress so you can replay it from the start."
  },
  "quest-compose": {
    "handler": "handle_quest_compose",
    "category": "workflow",
    "description": "Start an interactive wizard to design a new quest step-by-step."
  },
  "quest-delete": {
    "handler": "handle_quest_delete",
    "category": "workflow",
    "description": "Delete a questline and its saved progress."
  },
  "quest-list": {
    "handler": "handle_quest_list",
    "category": "workflow",
    "description": "List all quest definitions with IDs, categories, and difficulty."
  },
  "quest-inspect": {
    "handler": "handle_quest_inspect",
    "category": "workflow",
    "description": "Inspect a quest definition and all its steps."
  },
  "quest-debug": {
    "handler": "handle_quest_debug",
    "category": "workflow",
    "description": "Show raw quest engine state for debugging."
  },

  "reminders-list": {
    "handler": "handle_reminders_list",
    "category": "reminders",
    "description": "List all reminders grouped by status (due/today/upcoming/pinned/done)."
  },
  "reminders-due": {
    "handler": "handle_reminders_due",
    "category": "reminders",
    "description": "Show reminders that are currently due, plus today and pinned."
  },
  "reminders-show": {
    "handler": "handle_reminders_show",
    "category": "reminders",
    "description": "Show full details for a specific reminder."
  },
  "reminders-add": {
    "handler": "handle_reminders_add",
    "category": "reminders",
    "description": "Create a new reminder with optional repeat and window."
  },
  "reminders-update": {
    "handler": "handle_reminders_update",
    "category": "reminders",
    "description": "Update an existing reminder's fields."
  },
  "reminders-delete": {
    "handler": "handle_reminders_delete",
    "category": "reminders",
    "description": "Delete a reminder by ID."
  },
  "reminders-done": {
    "handler": "handle_reminders_done",
    "category": "reminders",
    "description": "Mark a reminder as done. Recurring reminders advance to next occurrence."
  },
  "reminders-snooze": {
    "handler": "handle_reminders_snooze",
    "category": "reminders",
    "description": "Snooze a reminder for a duration (10m, 1h, 3h, 1d)."
  },
  "reminders-pin": {
    "handler": "handle_reminders_pin",
    "category": "reminders",
    "description": "Pin a reminder so it always shows in due view."
  },
  "reminders-unpin": {
    "handler": "handle_reminders_unpin",
    "category": "reminders",
    "description": "Unpin a reminder."
  },
  "reminders-settings": {
    "handler": "handle_reminders_settings",
    "category": "core",
    "description": "Open reminder notification settings (ntfy push, in-app alerts)."
  },

  "identity-show": {
    "handler": "handle_identity_show",
    "category": "identity",
    "description": "Show character sheet (name, archetype, goals, level, XP, titles, domains)."
  },
  "identity-set": {
    "handler": "handle_identity_set",
    "category": "identity",
    "description": "Set profile values: name, theme, vibe, goals, titles. Does NOT modify XP."
  },
  "identity-clear": {
    "handler": "handle_identity_clear",
    "category": "identity",
    "description": "Reset progression (soft=keep profile, hard=clear all). Requires confirm=yes."
  },

  "modules-list": {
    "handler": "handle_modules_list",
    "category": "modules",
    "description": "List all modules with status, phase, and Domain Level."
  },
  "modules-show": {
    "handler": "handle_modules_show",
    "category": "modules",
    "description": "Show details for a specific module."
  },
  "modules-add": {
    "handler": "handle_modules_add",
    "category": "modules",
    "description": "Create a new module."
  },
  "modules-update": {
    "handler": "handle_modules_update",
    "category": "modules",
    "description": "Update module metadata (status, phase, description, tags)."
  },
  "modules-archive": {
    "handler": "handle_modules_archive",
    "category": "modules",
    "description": "Archive a module (keep history, remove from active focus)."
  },
  "modules-delete": {
    "handler": "handle_modules_delete",
    "category": "modules",
    "description": "Delete a module (hard removal, with safety checks)."
  },

  "env": {
    "handler": "handle_env",
    "category": "system",
    "description": "Show environment variables."
  },
  "setenv": {
    "handler": "handle_setenv",
    "category": "system",
    "description": "Set an environment variable."
  },
  "snapshot": {
    "handler": "handle_snapshot",
    "category": "system",
    "description": "Create a state snapshot."
  },
  "restore": {
    "handler": "handle_restore",
    "category": "system",
    "description": "Restore from a saved snapshot."
  },

  "daily-review": {
    "handler": "handle_daily_review",
    "category": "timerhythm",
    "description": "Three-phase daily review: morning (sleep+HP+goal), evening (energy), night (reflection+habits). Tracks HP and readiness."
  },
  "weekly-review": {
    "handler": "handle_weekly_review",
    "category": "timerhythm",
    "description": "Weekly review with macro goals, habit progress, and XP. Use 'done' to complete."
  },
  "time-clear": {
    "handler": "handle_time_clear",
    "category": "timerhythm",
    "description": "DEV: Clear all timerhythm data (streaks, HP history, habits). Use 'confirm' to execute."
  },

  "command-add": {
    "handler": "handle_command_add",
    "category": "commands",
    "description": "Add a new custom command (starts wizard if no args)."
  },
  "command-list": {
    "handler": "handle_command_list",
    "category": "commands",
    "description": "List all commands (core + custom)."
  },
  "command-inspect": {
    "handler": "handle_command_inspect",
    "category": "commands",
    "description": "Inspect a custom command's configuration."
  },
  "command-remove": {
    "handler": "handle_command_remove",
    "category": "commands",
    "description": "Remove a custom command."
  },
  "command-toggle": {
    "handler": "handle_command_toggle",
    "category": "commands",
    "description": "Enable or disable a custom command."
  },

  "wm-debug": {
    "handler": "handle_wm_debug",
    "category": "debug",
    "description": "Show current Working Memory state (entities, pronouns, topics)."
  },
  "wm-clear": {
    "handler": "handle_wm_clear_cmd",
    "category": "debug",
    "description": "Clear working memory for this session."
  },
  "behavior-debug": {
    "handler": "handle_behavior_debug",
    "category": "debug",
    "description": "Show Behavior Layer state (open questions, goals, user state)."
  },
  "self-test": {
    "handler": "handle_self_test",
    "category": "debug",
    "description": "Run internal WM/Behavior/Topic diagnostics."
  },
  "diagnostics": {
    "handler": "handle_diagnostics",
    "category": "debug",
    "description": "Alias for #self-test."
  }
}
